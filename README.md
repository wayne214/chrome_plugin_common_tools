# Chrome浏览器插件

一个功能强大的Chrome浏览器插件，提供页面增强和实用工具功能。

## 功能特性

### 🎯 主要功能
- **文本高亮** - 智能高亮页面文本内容
- **页面分析** - 统计页面字数、链接数量等信息
- **链接提取** - 快速提取页面中的所有链接
- **屏幕截图** - 一键截取当前页面并保存
- **浮动工具栏** - 便捷的页面操作工具
- **右键菜单** - 集成到Chrome右键菜单

### 🛠️ 技术特性
- 基于Manifest V3规范
- 现代化的UI设计
- 响应式布局
- 无冲突的样式设计
- 安全的权限管理

## 📁 项目结构

```
chrome_plugin/
├── manifest.json          # 插件配置文件
├── popup.html             # 弹出窗口HTML
├── popup.css              # 弹出窗口样式
├── popup.js               # 弹出窗口脚本
├── content.js             # 内容脚本（在网页中运行）
├── background.js          # 后台服务脚本
├── icons/                 # 插件图标
│   ├── icon16.png
│   ├── icon32.png
│   ├── icon48.png
│   └── icon128.png
├── create_icons.py        # 图标生成脚本
└── README.md              # 项目说明
```

## 🚀 安装方法

### 方法1：开发者模式安装

1. 打开Chrome浏览器
2. 访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹 `chrome_plugin`
6. 插件安装完成！

### 方法2：打包安装

1. 在Chrome扩展程序页面点击"打包扩展程序"
2. 选择项目文件夹
3. 生成.crx文件
4. 拖拽.crx文件到扩展程序页面安装

## 🎮 使用方法

### 弹出窗口功能
- 点击浏览器工具栏中的插件图标
- 查看当前页面信息
- 使用各种页面分析工具
- **新增：双截图模式**
  - 📸 全屏截图 - 截取整个可见页面
  - ✂️ 区域截图 - 精准选择指定区域

### 区域截图体验
1. **点击“✂️ 区域截图”**
2. **页面进入选择模式** - 显示半透明覆盖层
3. **拖拽选择区域** - 鼠标拖拽选择任意区域
4. **实时预览** - 显示选择框和尺寸信息
5. **确认截图** - 点击“📸 截图”按钮
6. **ESC取消** - 随时按ESC退出选择

### 浮动工具栏
- 页面加载后会在右上角显示工具栏
- 点击按钮执行对应功能
- 可以隐藏/显示工具栏

### 右键菜单
- 在页面任意位置右键
- 选择"我的Chrome插件"菜单项
- 执行相应操作

## 🎮 功能详解

### 文本高亮
- **作用**: 高亮页面中的主要文本内容
- **使用**: 点击“高亮文本”按钮
- **清除**: 点击“清除高亮”按钮

### 页面分析
- **字数统计**: 统计页面总字数和字符数
- **链接统计**: 统计页面中的链接数量
- **元素统计**: 统计标题、段落等元素

### **新增：屏幕截图功能**
- **全屏截图**: 点击“📸 全屏截图”按钮
- **区域截图**: 点击“✂️ 区域截图”进行精准选择
- **拖拽选择**: 在页面中拖拽鼠标选择任意区域
- **实时预览**: 选择区域时显示实时预览框
- **快捷键**: Ctrl+Shift+S (Windows) 或 Cmd+Shift+S (Mac)
- **双击截图**: 双击窗口右上角区域
- **即时预览**: 截图后可在弹窗中查看预览
- **一键下载**: 点击“💾 下载截图”直接保存
- **右键菜单**: 右键选择“📸 截取当前页面”
- **浮动工具栏**: 点击工具栏中的截图按钮

### 实用工具
- **回到顶部**: 平滑滚动到页面顶部
- **复制标题**: 一键复制页面标题
- **复制URL**: 一键复制页面地址

## 🔧 开发指南

### 自定义功能

1. **修改弹出窗口**
   - 编辑 `popup.html` 调整界面
   - 修改 `popup.css` 改变样式
   - 更新 `popup.js` 添加功能

2. **扩展内容脚本**
   - 在 `content.js` 中添加页面交互功能
   - 注意避免与网页样式冲突

3. **增强后台功能**
   - 在 `background.js` 中添加后台逻辑
   - 可以监听标签页事件、存储数据等

### 权限说明

```json
"permissions": [
  "activeTab",    // 访问当前活跃标签页
  "storage",      // 本地存储数据
  "scripting"     // 执行脚本注入
]
```

## 🛡️ 安全性

- 使用最新的Manifest V3规范
- 最小权限原则
- 无外部网络请求
- 安全的样式隔离

## 🐛 问题排查

### 常见问题

1. **插件无法加载**
   - 检查manifest.json语法
   - 确保所有文件路径正确

2. **功能不工作**
   - 打开开发者工具查看错误
   - 检查权限配置

3. **样式冲突**
   - 所有样式都使用前缀避免冲突
   - 检查CSS选择器优先级

### 调试方法

1. **弹出窗口调试**
   - 右键点击插件图标 → 检查弹出内容

2. **内容脚本调试**
   - F12打开开发者工具
   - 查看Console和Sources

3. **后台脚本调试**
   - 访问 `chrome://extensions/`
   - 点击"服务工作进程"

## 📝 更新日志

### v1.0.0 (2024-01-20)
- 初始版本发布
- 基础文本高亮功能
- 页面信息统计
- 浮动工具栏
- 右键菜单集成
- **新增：屏幕截图功能**
  - 支持一键截图并保存
  - 提供多种截图方式（按钮/快捷键/双击）
  - 即时预览和下载功能
  - 智能截图历史管理

## 🤝 贡献指南

欢迎提交Issue和Pull Request！

1. Fork项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建Pull Request

## 📄 许可证

MIT License - 详见LICENSE文件

## 🔗 相关链接

- [Chrome扩展程序开发文档](https://developer.chrome.com/docs/extensions/)
- [Manifest V3指南](https://developer.chrome.com/docs/extensions/mv3/intro/)
- [Chrome扩展程序API](https://developer.chrome.com/docs/extensions/reference/)

---

**注意**: 这是一个基础模板，您可以根据具体需求进行定制和扩展。